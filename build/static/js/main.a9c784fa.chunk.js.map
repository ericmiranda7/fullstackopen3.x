{"version":3,"sources":["components/Display.js","components/Form.js","components/Search.js","services/personService.js","components/Notif.js","App.js","index.js"],"names":["Person","name","number","deletePerson","onClick","Display","persons","handleClick","map","person","id","Form","newName","handleNameChange","newNumber","handleNumberChange","value","onChange","type","Search","searchName","handleSearchChange","baseURL","services","getAll","axios","get","then","response","data","create","newPerson","post","delPerson","delete","updatePerson","put","Notification","message","msgStyles","color","class","paddingTop","fontSize","style","App","useState","setPersons","setNewName","setNewNumber","setSearchName","showAll","setShowAll","notif","setNotif","useEffect","personService","notify","msgClass","setTimeout","personsToShow","filter","toLowerCase","includes","Notif","event","target","preventDefault","existingPerson","find","replace","window","confirm","catch","error","concat","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a9c784fa.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ name, number, deletePerson}) => {\n    return (\n        <div>\n            <p>\n                {name} {number} \n                <button onClick={deletePerson}>delete</button>\n            </p>\n        </div>\n    )\n}\n\nconst Display = ({ persons, handleClick }) => {\n    return (\n        <div>\n            <h2>Persons</h2>\n            { persons.map(person => <Person key={person.id} name={person.name} number={person.number} deletePerson={() => handleClick(person)} />)}\n        </div>\n    )\n}\n\nexport default Display","import React from 'react'\n\nconst Form = ({ newName, handleNameChange, newNumber, handleNumberChange, handleClick }) => {\n    return (\n        <div>\n            <h2>Add new entry</h2>\n            <form>\n                <div>\n                    name: <input value={newName} onChange={handleNameChange} />\n                    number: <input value={newNumber} onChange={handleNumberChange} />\n                </div>\n                <div>\n                    <button type=\"submit\" onClick={handleClick}>add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Form","import React from 'react'\n\nconst Search = ({ searchName, handleSearchChange }) => {\n    return (\n        <div>\n            <h2>Search</h2>\n            Filter names with <input value={searchName} onChange={handleSearchChange} />\n        </div>\n    )\n}\n\nexport default Search","import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = () => axios.get(baseURL).then(response => response.data)\n\nconst create = newPerson => axios.post(baseURL, newPerson)\n.then(response => response.data)\n\nconst delPerson = id => axios.delete(`${baseURL}/${id}`)\n\nconst updatePerson = (id, person) => axios.put(`${baseURL}/${id}`, person).then(response => response.data)\n\nconst services = {getAll, create, delPerson, updatePerson}\n\nexport default services","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (!message) return null\n    else {\n        const msgStyles = {\n            color: message.class ? 'red' : 'green',\n            paddingTop: '5px',\n            fontSize: '15px'\n        }\n\n        return (\n            <div style={msgStyles}>\n                {message.message}\n            </div>\n        )\n    }\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Display from './components/Display'\nimport Form from './components/Form'\nimport Search from './components/Search'\nimport personService from './services/personService'\nimport Notification from './components/Notif'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchName, setSearchName] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [notif, setNotif] = useState({})\n\n  useEffect(() =>\n    personService\n      .getAll()\n      .then(response => setPersons(response))\n    , [])\n\n  const notify = (message, msgClass) => {\n    setNotif({ message, class: msgClass || 0 })\n    setTimeout(\n      () => setNotif(null), 5000\n    )\n  }\n\n  const handleNameChange = event => setNewName(event.target.value)\n\n  const handleNumberChange = event => setNewNumber(event.target.value)\n\n  const handleSearchChange = event => {\n    setSearchName(event.target.value)\n    event.target.value ?\n      setShowAll(false) :\n      setShowAll(true)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    }\n\n    const existingPerson = persons.find(person => person.name === newName)\n\n    if (existingPerson) {\n      let replace = window.confirm(`${newName} is already added to phonebook, replace with new number ?`)\n      newPerson.id = existingPerson.id\n\n      if (replace) {\n        personService\n        .updatePerson(existingPerson.id, newPerson)\n        .then(response => setPersons(persons.map(person => {\n          notify(`${newPerson.name}'s number was changed to ${newPerson.number}`)\n          return person.id === response.id ? newPerson : person\n        })))\n        .catch(error => notify(`${existingPerson.name} has been deleted from the system`, 1))\n      }\n    } else {\n      personService.create(newPerson)\n      .then(response => {\n        setPersons(persons.concat(response))\n        notify(`${newPerson.name} was added to the phonebook`)\n      })\n      .catch(error => notify('Name should be minimum 3 characters and number minimum 8 digits', 1))\n    }\n  }\n\n  const deletePerson = (person) => {\n    window.confirm(`Are you sure you want to delete ${person.name} ?`)\n    personService\n    .delPerson(person.id)\n    .then(response => setPersons(persons.filter(p => p.id !== person.id)))\n\n    notify(`${person.name} was removed from the phonebook.`)\n  }\n\n\n\n  const personsToShow = showAll ?\n    persons :\n    persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()))\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notif} />\n      <Search searchName={searchName} handleSearchChange={handleSearchChange} />\n      <Form\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        handleClick={addPerson}\n      />\n      <Display persons={personsToShow} handleClick={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}